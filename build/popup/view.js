document.addEventListener("DOMContentLoaded",(()=>{let e=document.querySelector("body"),t=null;function n(n){n&&(n.classList.remove("open"),n.setAttribute("aria-hidden","true"),setTimeout((()=>{n.setAttribute("hidden",""),t&&t()}),300)),e&&e.classList.remove("popup-active")}document.querySelectorAll(".has-popup a").forEach((o=>{let d=o.getAttribute("href").replace("#",""),i=document.getElementById(d);i&&o.addEventListener("click",(o=>{o.preventDefault(),i.hasAttribute("hidden")?(i.removeAttribute("hidden"),requestAnimationFrame((()=>{i.classList.add("open"),i.setAttribute("aria-hidden","false"),e.classList.add("popup-active"),t=function(e){const t=e.querySelectorAll(["a[href]","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])",'[tabindex]:not([tabindex="-1"])'].join(",")),n=t[0],o=t[t.length-1];function d(e){"Tab"===e.key&&(e.shiftKey?document.activeElement===n&&(e.preventDefault(),o.focus()):document.activeElement===o&&(e.preventDefault(),n.focus()))}return document.addEventListener("keydown",d),n?.focus(),function(){document.removeEventListener("keydown",d)}}(i)}))):n(i)}))})),document.querySelectorAll(".popup-container__close").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();let o=e.closest(".popup-container");o&&n(o)}))})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&document.querySelectorAll(".popup-container.open").forEach((e=>{n(e)}))}))}));